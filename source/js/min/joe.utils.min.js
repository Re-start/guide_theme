!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(self,(function(){return e={_version:"1.0.0",isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},timeAgo:function(t){if(!t)return"未知时间";t=new Date(t).getTime();var n=(new Date).getTime()-t,a=Math.floor(n/864e5);if(0===a){var r=n%864e5,o=Math.floor(r/36e5);if(0===o){var i=r%36e5,s=Math.floor(i/6e4);if(0===s){var c=i%6e4,u=Math.round(c/1e3);return u<1?"刚刚":u+" 秒前"}return s+" 分钟前"}return o+" 小时前"}return a<0?"刚刚":1===a?"昨天":e.formatDate(t,"yyyy年MM月dd日 hh:mm")},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";e=new Date(e),/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in n)if(new RegExp("(".concat(a,")")).test(t)){var r=n[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:r.padStart(2,"0"))}return t},getNavLangSub:function(){var e=navigator.language;return(e=e.substr(0,2))||(e=navigator.browserLanguage),e},request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return new Promise((function(a,r){$.ajax({url:"".concat(e,"?_r=").concat(Date.now()),type:t.toUpperCase(),headers:{"API-Authorization":ThemeConfig.access_key||"joe2.0"},dataType:"json",timeout:1e4,data:n,success:function(e){200===e.status&&e.data?a(e.data):r(e)},error:function(e){var t=e&&e.responseJSON?e.responseJSON.message:"出错了！";Qmsg.error(t),r(t)}})}))},throttle:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){var r=this,o=Array.prototype.slice.call(arguments),i=Date.now();n&&n+a>i?(clearTimeout(t),t=null,t=setTimeout((function(){n=i,e.apply(r,o)}),a)):(n=i,e.apply(r,o))}},setCookie:function(t,n,a){var r=t+e._version,o="";if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),o="; expires="+i.toUTCString()}document.cookie=r+"="+(n||"")+o+"; path=/"},getCookie:function(t){for(var n=t+e._version+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var o=a[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null},removeCookie:function(t){var n=t+e._version+"=";document.cookie=n+"=; Max-Age=-99999999;"},setLocalStorage:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600,r=t+e._version,o=new Date;try{localStorage.setItem(r,JSON.stringify({expires:o.valueOf()+1e3*a,data:n}))}catch(e){"QuotaExceededError"===e.name&&(console.log("数据已满，自动清空"),localStorage.clear(),setLocalStorage(t,n,a))}})),getLocalStorage:function(t){var n=t+e._version,a=JSON.parse(localStorage.getItem(n)),r=new Date;return a&&a.expires>r?a.data:(localStorage.removeItem(n),null)},removeLocalStorage:function(t){var n=t+e._version;localStorage.removeItem(n)},loadJS:function(t,n){e._loadRes("script",t,n)},loadCSS:function(t,n){e._loadRes("link",t,n)},_loadRes:function(e,t,n){var a,r=n||function(){};switch(e){case"script":(a=document.createElement(e)).type="text/javascript",a.src=t;break;case"link":(a=document.createElement(e)).type="text/css",a.type="stylesheet",a.href=t;break;default:return void console.warn("暂不支持："+e+" 类型")}a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,r())}:a.onload=function(){r()},document.getElementsByTagName("head")[0].appendChild(a)},getRandomColor:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t||(t=0),n||(n=0),t=isNaN(t)?0:Number(t),n=isNaN(n)?1:Number(n),t=Math.min(Math.max(Math.abs(t),0),1),n=(n=Math.min(Math.max(Math.abs(n),0),1))<t?1:n,"#"+(e=(16777216*(Math.random()*(n-t)+t)<<0).toString(16),new Array(7-e.length).join("0")+e)},getNearestKeyframe:function(e,t){var n=this._search(e.times,t);return{index:n,milliseconds:table.times[n],fileposition:table.filepositions[n]}},_search:function(e,t){var n=0,a=e.length-1,r=0,o=0,i=a;for(t<e[0]&&(n=0,o=i+1);o<=i;){if((r=o+Math.floor((i-o)/2))===a||t>=e[r]&&t<e[r+1]){n=r;break}e[r]<t?o=r+1:i=r-1}return n},removeClassByPrefix:function(e,t){var n=e.className.split(" ").filter((function(e){return 0!==e.lastIndexOf(t,0)}));e.className=n.join(" ").trim()}},window.Utils=e,{};var e}));